<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Cardapio_Inteligente.Paginas.Tela_Cadastro"
             Title="Cadastro Inteligente"
             BackgroundColor="{StaticResource Background}">

    <ScrollView>
        <VerticalStackLayout Padding="16" Spacing="14" HorizontalOptions="Center" MaximumWidthRequest="720">

            <Label Text="Cadastro Inteligente" Style="{StaticResource TitleLabel}" />

            <Frame Style="{StaticResource Card}">
                <VerticalStackLayout Spacing="12">
                    <Label x:Name="lblPergunta" Text="Bem-vindo! Clique em Iniciar para começar seu cadastro." FontAttributes="Bold" TextColor="{StaticResource Accent}" />
                    <Entry x:Name="txtResposta" Placeholder="Digite sua resposta aqui" IsEnabled="False" BackgroundColor="#08111B" TextColor="{StaticResource PrimaryText}" PlaceholderColor="{StaticResource SecondaryText}" />
                    <HorizontalStackLayout Spacing="8" HorizontalOptions="Center">
                        <Button x:Name="btnIniciar" Text="Iniciar" Clicked="btnIniciar_Clicked" Style="{StaticResource PrimaryButton}" />
                        <Button x:Name="btnEnviar" Text="Enviar" Clicked="btnEnviar_Clicked" IsEnabled="False" Style="{StaticResource GhostButton}" />
                    </HorizontalStackLayout>
                </VerticalStackLayout>
            </Frame>

            <Label Text="Quais ingredientes você não gosta?" FontAttributes="Bold" TextColor="{StaticResource PrimaryText}" />
            <ScrollView HeightRequest="150">
                <VerticalStackLayout x:Name="stackPreferencias" Spacing="6"/>
            </ScrollView>

            <Label Text="Possui intolerância à lactose?" FontAttributes="Bold" TextColor="{StaticResource PrimaryText}" />
            <VerticalStackLayout>
                <RadioButton x:Name="rbtNenhuma" Content="Nenhuma" GroupName="Alergias"/>
                <RadioButton x:Name="rbtLactose" Content="Lactose" GroupName="Alergias"/>
            </VerticalStackLayout>

            <Label Text="Dados Coletados:" FontAttributes="Bold" TextColor="{StaticResource PrimaryText}" />
            <CollectionView x:Name="colRespostas" HeightRequest="160">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame BackgroundColor="#081B22" CornerRadius="8" Padding="8">
                            <VerticalStackLayout>
                                <Label Text="{Binding Key}" FontAttributes="Bold" TextColor="{StaticResource Accent}" />
                                <Label Text="{Binding Value}" TextColor="{StaticResource PrimaryText}" />
                            </VerticalStackLayout>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <ActivityIndicator x:Name="activityIndicator" IsVisible="False" IsRunning="False" Color="{StaticResource Accent}" />
            <Button x:Name="btnSalvar" Text="Salvar Cadastro e Fazer Login" Clicked="btnSalvar_Clicked" IsEnabled="False" Style="{StaticResource PrimaryButton}" />
            <Button x:Name="btnCancelar" Text="Cancelar e Voltar para Login" Clicked="btnCancelar_Clicked" Style="{StaticResource GhostButton}" />
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
